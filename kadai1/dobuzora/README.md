# 課題 1

## 画像変換コマンドを作ろう

### 仕様

- [x] ディレクトリを指定する
- [x] 指定したディレクトリ以下の JPG ファイルを PNG に変換
- [x] ディレクトリ以下は再帰的に処理する
- [ ] 変換前と変換後の画像形式に指定できる(オプション)

### 要件

- [x] main パッケージと分離する
- [x] 自作パッケージと標準パッケージと準標準パッケージのみを使う
- [x] ユーザ定義型を使ってみる
- [x] GoDoc を生成してみる

## Install

```
export GOBIN=`pwd`/_bin
$ go install github.com/gopherdojo/dojo6/kadai1/cmd/j2p
$ _bin/cmd
```

## How to use

```
./_bin/j2p DIRPATH
```

## 回答

最初に、ユーザ定義型を作らずに実装しました。これは狙ったわけではなく私の設計では活用場面が浮かばなかったためです。しかし、要件にはユーザ定義型を使うとのことなので、`convert`パッケージに`ConvertFile`という変換前と変換後のパスを含むファイル名の文字列を持つ型を定義して変換を行うようにしました。

一番つまずいた点は動作確認を終えて`main`パッケージから分離する際に、突然動かなくなってしまったことです。これは、`main`パッケージに含まれていた`_ "image/jpeg"`が分離する際に消えてしまったためでした。delve で潜ってもわからず、時間経過でなくなっていることに気が付きました。分離する前に一度コミットしておけば、比較してすぐにわかったので経験不足でした。

ディレクトリの構成は、tenntenn さんが okinawa.go で行ってくだささった勉強会の資料及びリポジトリを参考にしました。
